<!-- Useful links:
    Highlight a clicked row: http://stackoverflow.com/questions/19331779/how-to-highlight-a-selected-row-in-ngrepeat
    Create a dynamic search box (see examples below): https://docs.angularjs.org/api/ng/directive/ngRepeat
    Selected (checkbox) idea for configuration: http://plnkr.co/edit/ZFRIWOe2HxMq8K11FBk4?p=preview
-->

<div class="row">
    <div class="col-md-6">
        <input type="text" ng-model="search.extensionName" class="form-control" placeholder="Browse an app" name="srch-term" id="srch-term">
        <br>
        <div class="list-group">
            <a ng-repeat="extension in model.extensionList | filter:search" class="list-group-item" ng-click="displayDetails($index, extension)" ng-class="{active : $index==selectedRow}">
                {{extension.extensionName}}
            </a>
        </div>
    </div>
    <div class="col-md-6">
        <div ng-show="show">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <button type="button" class="close" ng-click="closeDetails()">
                        <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                    </button>
                    <h3>
                        <i><small>{{clickedExtension.groupId}}</small></i>
                        <br>
                        {{clickedExtension.artifactId}}
                    </h3>
                </div>
                <ul class="list-group">
                    <li ng-repeat="version in clickedExtension.versions" class="list-group-item">
                        {{version.version}} 
                        <div class="pull-right">
                            <a href="http://{{version.document.url}}" target="_blank" data-toggle="tooltip" title="Hive">
                                <i class="btn-xs glyphicon glyphicon-book"></i>
                            </a>
                            <i class="btn-xs glyphicon glyphicon-pencil" data-toggle="tooltip" title="Configure instance" ng-click="openConfigEntryModal(clickedExtension.extensionName, version.version)"></i>
<!--                             <button type="button" ng-click="openConfigEntryModal(clickedExtension.extensionName, version.version)" class="pull-right btn btn-xs">Configure instance
                            </button>
 -->                        </div>
                    </li>
                </ul>
            </div>
        </div>  
    </div>
</div>

<!--
<table class="table table-hover">
    <thead>
        <tr>
            <th>Extension Name</th>
            <th>Group ID</th>
            <th>Artifact ID</th>
            <th>Release ID</th>
            <th></th>
        </tr>
    </thead>
    <tbody ng-repeat="extension in model.getExtensionDetails() track by $index">
    <tr >
        <td ng-click="hidden = !hidden"><a href="#/details/123"> {{ extension.extensioName }}</td>
        <td ng-click="hidden = !hidden"> {{ extension.groupID }}  </td>
        <td ng-click="hidden = !hidden"> {{ extension.artifactID }}  </td>
        <td ng-click="hidden = !hidden"> {{ extension.releaseID }}  </td>
        <td><button class="btn btn-default " ng-click="openConfigEntryModal(extension)">Configure instance</button></td>
    </tr>
    <tr ng-show="hidden">
        <td colspan="4">
            <table class="table">
                <thead>
                    <tr>
                        <th>Version</th>
                        <th>Deployed Instance</th>
                        <th>Profile</th>
                        <th>Configuration</th>
                    </tr>
                    </thead>
                    <tr ng-repeat="version in extension.versions" >
                        <td> {{ version.version }}</td>
                        <td>{{ version.instance }}</td>
                        <td>{{ version.profile }}</td>
                        <td>{{ version.configuration }}</td>
                    </tr>
                </table>
            </td>
        </tr>
    </tbody>
</table>
-->